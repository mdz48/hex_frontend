<p-toast />
<main class="flex justify-center items-center min-h-screen">
    <section class="w-1/2 bg-amber-500 p-4">
        <form [formGroup]="loginForm" class="flex flex-col" (ngSubmit)="onLogin()">
            <label for="email">Email</label>
            <input type="email" formControlName="email" class="bg-white">
            <span *ngIf="loginForm.get('email')?.errors?.['required'] && loginForm.get('email')?.touched" 
                  class="text-red-500">Email es requerido</span>

            <label for="password">Password</label>
            <input type="password" formControlName="password" class="bg-white">
            <span *ngIf="loginForm.get('password')?.errors?.['required'] && loginForm.get('password')?.touched"
                  class="text-red-500">Contraseña es requerida</span>

            <button type="submit" [disabled]="!loginForm.valid" 
                    class="hover:cursor-pointer p-2 border m-2">Login</button>
            <p class="text-center">
                ¿No tienes cuenta?
                <a href="#" class="text-blue-700 hover:underline" (click)="showDialog()">Regístrate aquí</a>
            </p>
        </form>
    </section>
</main>

<p-dialog header="Registro de Usuario" [(visible)]="visible" [modal]="true" [style]="{ width: '400px' }">
    <form [formGroup]="registerForm" class="flex flex-col gap-4">
        <div class="flex flex-col">
            <label for="name">Nombre</label>
            <input type="text" formControlName="name" class="border p-2">
            <span *ngIf="registerForm.get('name')?.errors?.['required'] && registerForm.get('name')?.touched"
                  class="text-red-500">Nombre es requerido</span>
        </div>

        <div class="flex flex-col">
            <label for="email">Email</label>
            <input type="email" formControlName="email" class="border p-2">
            <span *ngIf="registerForm.get('email')?.errors?.['required'] && registerForm.get('email')?.touched"
                  class="text-red-500">Email es requerido</span>
        </div>

        <div class="flex flex-col">
            <label for="password">Contraseña</label>
            <input type="password" formControlName="password" class="border p-2">
            <span *ngIf="registerForm.get('password')?.errors?.['required'] && registerForm.get('password')?.touched"
                  class="text-red-500">Contraseña es requerida</span>
        </div>

        <div class="flex justify-center">
            <button type="submit" [disabled]="!registerForm.valid"
                    class="p-2 bg-blue-500 text-white rounded cursor-pointer hover:opacity-90"
                    (click)="registerUser()">Registrar</button>
        </div>
    </form>
</p-dialog>